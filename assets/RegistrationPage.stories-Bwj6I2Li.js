import{j as e}from"./jsx-runtime-BjgbQsUx.js";import{U as S}from"./ales-nesetril-Im7lZjxeLhg-unsplash-BBg92LQq.js";import{r}from"./index-D-deEim2.js";import{S as v}from"./StatusMessage-Be8FeD9y.js";import{R as P}from"./RegistrationForm-DoTsrk3M.js";import"./index-D2MAbzvX.js";import"./_commonjsHelpers-CqkleIqs.js";const p={username:"",email:"",password:"",pwconfirm:""},g=()=>{const[s,n]=r.useState(p),[u,f]=r.useState(),[x,h]=r.useState(!1),[j,c]=r.useState(!1),[i,m]=r.useState(null),y=t=>{n({...s,[t.target.name]:t.target.value})},b=t=>{n({...s,[t.target.name]:t.target.value})},w=async t=>{t.preventDefault();const R={username:s.username,email:s.email,password:s.password};if(N(),x)try{if(c(!0),!(await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)})).ok)throw new Error("Registration failed");m({type:"success",message:"Registration successful!"}),n(p)}catch(l){m({type:"error",message:l instanceof Error?l.message:"An error occurred during registration"})}finally{c(!1)}else f({form:"Form has errors."})},N=()=>{h(!0)};return e.jsxs("div",{className:"mx-auto max-w-lg",children:[i&&e.jsx(v,{type:i.type,message:i.message}),e.jsx(P,{onFormSubmit:w,onInputChange:y,onPwChange:b,user:s,errors:u,loading:j})]})};g.__docgenInfo={description:"",methods:[],displayName:"RegistrationContainer"};const d=({title:s})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx("div",{className:"flex flex-1 flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20",children:e.jsxs("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[s&&e.jsx("h2",{className:"mb-8 text-3xl font-extrabold",children:s}),e.jsx(g,{})]})}),e.jsxs("div",{className:"relative hidden w-0 flex-1 lg:block",children:[e.jsx("img",{src:S,className:"absolute inset-0 h-full w-full object-cover",alt:"Macbook Wallpaper by Ales Nesetril on Unsplash"}),e.jsx("div",{className:"absolute bottom-4 right-8 bg-black p-2 text-gray-400",children:e.jsx("a",{href:"https://unsplash.com/photos/Im7lZjxeLhg",target:"_blank",rel:"noreferrer",children:"Photo by Ales Nesetril"})})]})]})});d.__docgenInfo={description:"",methods:[],displayName:"RegistrationPage",props:{title:{required:!1,tsType:{name:"string"},description:""}}};const T={title:"Pages/RegistrationPage",component:d,parameters:{layout:"fullscreen"}},a={args:{}},o={args:{title:"Register for an Account"}};a.parameters={...a.parameters,docs:{...a.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...a.parameters?.docs?.source}}};o.parameters={...o.parameters,docs:{...o.parameters?.docs,source:{originalSource:`{
  args: {
    title: 'Register for an Account'
  }
}`,...o.parameters?.docs?.source}}};const U=["Default","Title"];export{a as Default,o as Title,U as __namedExportsOrder,T as default};
